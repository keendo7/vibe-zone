<header>
  <div class="topnav d-flex align-items-center justify-content-between", style="background-color: #f0f3f5;">
    <div class="d-flex gap-2">
      <%= link_to root_path do %>
        <%= image_tag "vz_logo_transparent.png", size: "45x40" %>
      <% end %>
      <%= form_with url: search_path, method: :get, local: true do |form| %>
        <div class="input-group">
          <span class="input-group-text">
            <i class="fa-solid fa-magnifying-glass"></i>
          </span>
          <%= form.text_field :query, placeholder: "Search users...", class: "form-control" %>
        </div>
      <% end %>
    </div>
    
    <div class="d-flex gap-4 align-items-center">
      <%= link_to posts_path, class: "btn btn-light round-btn", title: "Posts" do %>
        <i class="fa-solid fa-newspaper text-dark"></i>
      <% end %> 
      <%= link_to notifications_path, class: "btn btn-light round-btn", id: "notifications_link", title: "Notifications" do %>
        <i class="fa-solid fa-bell text-dark"></i>
        <span class="badge bg-danger"><%="#{notifications_count(current_user.new_notifications_count)}"%></span>
      <% end %>

      <button class="btn dropdown-toggle" type="button" id="userMenu" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <%= image_tag user_avatar(current_user), id: "avatar" %>
      </button>
      <div class="dropdown-menu" aria-labelledby="userMenu">
        <%= link_to "Show profile", user_path(current_user), class: "dropdown-item" %>
        <%= link_to "Edit", details_path, class: "dropdown-item" %> 
        <%= button_to "Sign out", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
      </div>
    </div>
  </div>
</header>
